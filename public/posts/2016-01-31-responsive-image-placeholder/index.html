<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="Call me Sam, a theme for Hugo.">
<meta name="og:type" content="website">
<meta name="og:url" content="https://braavos.me/">
<meta name="og:image" itemprop="image primaryImageOfPage" content="https://braavos.me/tn.png">

<link rel="shortcut icon" href="https://braavos.me/sam.ico" id="favicon">
 
<link rel="stylesheet" href="https://braavos.me/css/reset.min.css">

 
<link rel="stylesheet" href="https://braavos.me/css/highlight.min.css">

 
<link rel="stylesheet" href="https://braavos.me/css/app.min.css">
    

    
    
    
    <title>
        
        固定尺寸的响应式图片占位符
        
    </title>
</head>

<body>
    <div class="wrap">
        <div class="section" id="title">固定尺寸的响应式图片占位符</div>

        
<div class="section" id="content">
    <time>
        Sun Jan 31, 2016 &#183; 95 words
    </time>
    <p>对于图片列表，通常会使用懒加载的方式，好处就不多说了。通常实现是图片的 src 放一张占位符, data- 属性是原图地址，监听 滚动及触摸事件，如果在 viewport 内，加载原图。</p>

<p>对于相同尺寸图片列表来说，如果图片存在 CDN，只是想单纯的给图片加个占位符，通过几行 Css 便可达到效果。</p>

<p>实现方式为图片外层包裹块级元素相对定位，通过 padding bottom 控制比例，图片绝对定位。</p>
<div class="highlight"><pre class="chroma"><code class="language-css" data-lang="css"><span class="o">...</span>
<span class="nt">figure</span> <span class="p">{</span>
    <span class="k">padding-bottom</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">relative</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>
    <span class="err">img</span> <span class="err">{</span>
        <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
        <span class="k">max-width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="p">}</span>
<span class="err">}</span>
<span class="o">...</span></code></pre></div>
<p><p data-height="268" data-theme-id="0" data-slug-hash="yeEjpV" data-default-tab="result" data-user="lacuna" class='codepen'>See the Pen <a href='//codepen.io/lacuna/pen/yeEjpV/'>yeEjpV</a> by lacuna (<a href='//codepen.io/lacuna'>@lacuna</a>) on <a href='//codepen.io'>CodePen</a>.</p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script></p>

<p>这种思路实际上在响应式视频上也能用到。前提是宽高比固定，宽度不定。</p>
<div class="highlight"><pre class="chroma"><code class="language-css" data-lang="css"><span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">1x1</span>  <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">1x2</span>  <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">200</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">2x1</span>  <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">2x3</span>  <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">150</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">3x2</span>  <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mf">66.66</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">3x4</span>  <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mf">133.333</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">4x3</span>  <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">75</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">9x16</span> <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mf">177.777</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">16x9</span> <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mf">56.25</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">img-holder</span><span class="err">\</span><span class="p">:</span><span class="nd">16x10</span> <span class="p">{</span> <span class="k">padding-bottom</span><span class="p">:</span> <span class="mf">62.5</span><span class="kt">%</span><span class="p">;</span> <span class="p">}</span></code></pre></div>
<p>针对不同尺寸，计算不同 padding-bottom, 很简单的方式，便可实现响应式图片占位符。</p>
    
    <div class="tag-container">
        
        <span class="tag">
            <a href="https://braavos.me/tags/css">
                Css,
            </a>
        </span>
        
        <span class="tag">
            <a href="https://braavos.me/tags/tech">
                tech
            </a>
        </span>
        
    </div>
    
</div>


        
<div class="section bottom-menu">
    
<hr />
<p>


    
        <a href="/posts">返回</a>
        
            &#183;
        
    

    
        
            <a href="/posts">
                写的
            </a>
        
    
    
        
            &#183; 
            <a href="/gallery">
                拍的
            </a>
        
            &#183; 
            <a href="/about">
                关于我们
            </a>
        
    
    &#183; 
    <a href="https://braavos.me/">
        
    </a>

</p>
</div>


        <div class="section footer"></div>
    </div>
</body>

</html>